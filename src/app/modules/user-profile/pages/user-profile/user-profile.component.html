<ng-container *ngIf="profileData">
    <user-profile-image
        [profileImageUrl]="editMode ? profileForm.controls.profileImage.value : profileData.profileImage"
        [editMode]="editMode" (urlChange)="handleFileChange($event)"></user-profile-image>
    <div *ngIf="!editMode; else editTemplate">
        <div>
            {{profileData.firstName}}-{{profileData.lastName}}
        </div>
        <button (click)="toggleEdit()">Edit Profile</button>
    </div>
</ng-container>

<ng-template #editTemplate>
    <form [formGroup]="profileForm">
        <div>
            <label>First Name</label>
            <input formControlName="firstName" type="text">
            <span *ngIf="profileForm.controls.firstName.touched && profileForm.controls.firstName.invalid">First name is
                required.</span>
        </div>
        <div>
            <label>Last Name</label>
            <input formControlName="lastName" type="text">
            <span *ngIf="profileForm.controls.lastName.touched && profileForm.controls.lastName.invalid">Last name is
                required.</span>
        </div>
    </form>
    {{profileForm.dirty}}
    <button (click)="toggleEdit()">Cancel</button>
    <button (click)="saveChanges()" [disabled]="!profileForm.dirty">Save <img *ngIf="saving" src="assets/images/loader.gif" alt=""></button>
    <button (click)="debug()">debug</button>
</ng-template>