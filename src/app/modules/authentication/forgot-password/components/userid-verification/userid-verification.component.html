<div class="margins-center-forgot bx-shdw">
    <div *ngIf="backendErrorMsg" class="error-mez text-center" style="margin-bottom: 16px;">
        {{backendErrorMsg}}
    </div>
    <form [formGroup]="form" (ngSubmit)="submit()">
        <div [ngStyle]="{'display': isEmailActive ? 'block':'none'}">
            <h3 class="std-heading-4 text-center"> Verify email address </h3>
            <div class="paragraph14 text-center first">
                You must verify your email address first
            </div>
            <div class="form-group form-group--margin" style="margin-top:24px;">
                <input formControlName="email" type="text" class="form-input error-highlight" placeholder="Email">
                <app-abs-control-error [control]="form.controls.email"></app-abs-control-error>
            </div>
        </div>
        <div [ngStyle]="{'display': isEmailActive ? 'none':'block'}">
            <h3 class=" std-heading-4 text-center"> Verify mobile number </h3>
            <div class="paragraph14 text-center">
                You must verify your mobile number first
            </div>
            <div class="form-group form-group--margin" style="margin-top:24px;">
                <!-- <input formControlName="mobile" type="text" class="form-input error-highlight" placeholder="Mobile Number"> -->
                <div class="row">
                    <div class="col-md-12">
                        <!-- <ngx-intl-tel-input [cssClass]="'form-input'" [enablePlaceholder]="true" [onlyCountries]="['in']" [preferredCountries]="['au']" [enableAutoCountrySelect]="true" [separateDialCode]="true" formControlName="mobile" [phoneValidation]="true" ></ngx-intl-tel-input> -->
                        <tel-input formControlName="mobile_number"></tel-input>
                    </div>
                </div>
                <app-abs-control-error [control]="form.controls.mobile_number"></app-abs-control-error>
            </div>
        </div>
        <div class="row">
            <div class="col-6 pad-ing-right" style="margin-bottom: 34px;">
                <input type="text" class="form-input error-highlight" placeholder="Enter code" formControlName="token">
                <app-abs-control-error [control]="form.controls.token"></app-abs-control-error>
            </div>
            <div class="col-6 pad-ing-left" style="margin-bottom: 34px;">
                <send-code (click)="form.controls.email.markAsTouched(); form.controls.mobile_number.markAsTouched();"
                    [data]="activeIdControl.valid ? {purpose: loggedUser? 'change' : 'forgotPassword', type: isEmailActive? 'email' : 'mobile', value:isEmailActive ? form.value.email : form.value.mobile_number}: null"
                    [data]="getSendCodeData()"
                    (error)="setErrors(form, $event)">
                </send-code>
            </div>
        </div>
        <!-- <div class="form-group form-group--margin" style="margin-top:24px;">
            <input formControlName="password" type="password" class="form-input error-highlight" placeholder="Password">
            <div class="error-mez" *ngIf="form.controls.password.invalid && form.controls.password.touched">
                {{getErrors('password')}}</div>
        </div> -->
        <div (click)="toggleType()" class="blue-line-text text-center" style="margin-bottom:34px">
            Use {{isEmailActive ? 'mobile' : 'email'}}
        </div>
        <button type="submit" value="Next" class="std-button std-button--blue" [disabled]="loading">
            <span *ngIf="!loading; else ld">Next</span>
            <ng-template #ld> <img src="assets/images/loader_white_24.gif"> </ng-template>
        </button>

    </form>
</div>