<div class="margins-center">
    <!-- <form [formGroup]="registrationForm" (ngSubmit)="signup()">
        <ng-template #emailInput>
            <h3 class="std-heading-4 text-center"> Sign up with email </h3>
            <div class="paragraph14 text-center" style="margin-bottom: 24px;">
                We’ll send a verification code to your email
            </div>

            <div *ngIf="errorMessage" class="error-mez">
                {{errorMessage}}
            </div>

            <div class="form-group form-group--margin">
                <div class="float-left label-inputs"> Email </div>
                <div class="float-right ch-me" (click)="toggleType()">
                    Use mobile 
                </div>
                <input type="text" class="form-input error-highlight" placeholder="Email address"
                    formControlName="email">
                <div *ngIf="controls.email.touched && controls.email.errors" class="error-mez">
                    <div> {{getErrors('email')}} </div>
                </div>
            </div>
        </ng-template>

        <ng-container *ngIf="activeType === 'mobile'; else emailInput">
            <h3 class="std-heading-4 text-center"> Sign up with mobile </h3>
            <div class="paragraph14 text-center" style="margin-bottom: 24px;">
                We’ll send a verification code to your number
            </div>

            <div *ngIf="errorMessage" class="error-mez">
                {{errorMessage}}
            </div>
            <div class="form-group form-group--margin">
                <div class="row">
                    <div class="col-md-12">
                        <div class="float-left label-inputs"> Mobile </div>
                        <div class="float-right ch-me" (click)="toggleType()">
                            Use email
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                       
                        <tel-input formControlName="mobile"></tel-input>
                    </div>
                </div>
                <div *ngIf="controls.mobile.touched && controls.mobile.invalid" class="error-mez">
                    <div> {{getErrors('mobile')}} </div>
                </div>

            </div>
        </ng-container>

        <div class="form-group form-group--margin">
            <div class="label-inputs"> Password </div>
            <app-password [showHint]="false">
                <input passwordInput type="password" class="form-input error-highlight custom-padd"
                    placeholder="Password" formControlName="password">
            </app-password>
            <div *ngIf="controls.password.touched && controls.password.errors" class="error-mez">
                <div> {{getErrors('password')}} </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6 pad-ing-right" style="margin-bottom: 24px;">
                <input type="number" class="form-input error-highlight" placeholder="Enter code"
                    formControlName="verificationCode" minlength="6" maxlength="6">
                <div *ngIf="controls.verificationCode.touched && controls.verificationCode.errors" class="error-mez">
                    <div> {{getErrors('verificationCode')}} </div>
                </div>
            </div>
            <div class="col-6 pad-ing-left" style="margin-bottom: 24px;">
                <send-code
                    (click)="activeType === 'email' ? controls.email.markAsTouched() : controls.mobile.markAsTouched()"
                    [data]="activeIdControl.valid ? {purpose: 'signup', type: activeType, value: activeIdControl.value}: null"
                    (error)="handleError($event)">
                </send-code>
            </div>
        </div>
        <div class="form-group" style="margin-bottom: 24px;">
            <button type="submit" class="btn std-button std-button--blue" [disabled]="loading">{{loading? 'Sigining
                up...' : 'Next'}}</button>
        </div>
        <div class="paragraph14 paragraph14__f12 text-center l18" >
            By creating a menuzapp account you're agreeing to our <span class="mb-ctr"><br></span><b  style="color:#353FA8;cursor: pointer;">
                Privacy Policy </b> and <b style="color:#353FA8;cursor: pointer;"> Terms of Service </b> 
        </div>
    </form> -->
    <form [formGroup]="emailForm" (ngSubmit)="validateEmail()" *ngIf="firstPage; else secondPage">
        <div class="row">
            <div class="col-6">
                <div class="form-group form-group--margin">
                    <div class="label-inputs"> First Name </div>
                    <input formControlName="first_name" type="text" class="form-input error-highlight"
                        placeholder="First Name">
                    <app-abs-control-error [control]="emailControls.first_name"></app-abs-control-error>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group form-group--margin">
                    <div class="label-inputs"> Last Name </div>
                    <input type="text" formControlName="last_name" class="form-input error-highlight"
                        placeholder="Last Name">
                    <app-abs-control-error [control]="emailControls.last_name"></app-abs-control-error>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group form-group--margin">
                    <div class="label-inputs"> Email </div>
                    <input type="text" formControlName="email" class="form-input error-highlight"
                        placeholder="Email address">
                    <app-abs-control-error [control]="emailControls.email"></app-abs-control-error>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6 pad-ing-right" style="margin-bottom: 24px;">
                <input type="number" formControlName="email_token" class="form-input error-highlight"
                    placeholder="Enter code" minlength="6" maxlength="6">
                <app-abs-control-error [control]="emailControls.email_token"></app-abs-control-error>
            </div>
            <div class=" col-6 pad-ing-left" style="margin-bottom: 24px;">
                <send-code (error)="setErrors(emailForm,$event)"
                    [data]="emailControls.email.valid ? {type: 'email', purpose: 'signup', value: emailControls.email.value} : null">
                </send-code>
            </div>
        </div>
        <div class="form-group" style="margin-bottom: 24px;">
            <button type="submit" class="btn std-button std-button--blue">
                Next
            </button>
        </div>
    </form>
    <ng-template #secondPage>
        <div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group form-group--margin">
                        <div class="label-inputs"> Mobile </div>
                        <input type="text" class="form-input error-highlight" placeholder="Mobile number">
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-6 pad-ing-right" style="margin-bottom: 24px;">
                    <input type="number" class="form-input error-highlight" placeholder="Enter code" minlength="6"
                        maxlength="6">
                </div>
                <div class="col-6 pad-ing-left" style="margin-bottom: 24px;">
                    <button type="button" class="btn std-button std-button--blue">
                        <p style="margin:0"> Send code </p>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group form-group--margin">
                        <div class="label-inputs"> Password </div>
                        <input type="text" class="form-input error-highlight" placeholder="Password">
                    </div>
                </div>
            </div>
            <div class="form-group" style="margin-bottom: 24px;">
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn std-button std-button--transparency">
                        Back
                    </button>
                    <button type="button" class="btn std-button std-button--primary">
                        Continue
                    </button>
                </div>
            </div>
        </div>
    </ng-template>
</div>
<!-- <ngx-intl-tel-input [cssClass]="'form-input'" [enablePlaceholder]="true" [onlyCountries]="['in']" [preferredCountries]="['au']" [enableAutoCountrySelect]="true" [separateDialCode]="true" formControlName="mobile" [phoneValidation]="true" ></ngx-intl-tel-input> -->